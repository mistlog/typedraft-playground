(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{246:function(e,t,n){e.exports=n(564)},555:function(e,t){},564:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),o=n(43),c=n.n(o),i=n(18),s=n.n(i),u=n(38),l=n(2);function p(){return r.a.createElement("div",{className:d.container},"TypeDraft Playground")}var d=Object(l.t)({container:{backgroundColor:"#294E80",border:"0px",padding:"10px",boxShadow:"3px 3px 5px rgba(0, 0, 0, 0.25)",color:"white",font:'normal 24px -apple-system, system-ui, BlinkMacSystemFont, "Segoe UI", Roboto, Oxygen, Ubuntu, Cantarell,\n        "Fira Sans", "Droid Sans", "Helvetica Neue", Arial, sans-serif'}}),m=n(242),f=n(44),h=n(58),g=n(584),v=n(28),b=n(581);function x(e){var t=e.SetExample,n=e.examples,o=function(e){var t=[];return e.forEach(function(e,n){var a={name:n,url:"",isExpanded:!0,links:e.map(function(e){return{name:e.display,url:"",key:e.name}})};t.push(a)}),[{links:t}]}(n),c=n.values().next().value[0].name,i=Object(a.useState)(c),s=Object(f.a)(i,2),u=s[0],l=s[1];return r.a.createElement(b.a,{selectedKey:u,groups:o,styles:{root:{width:200,marginTop:-20}},onLinkClick:function(e,n){var a=n.key;t(a),l(a)}})}var y=n(243),w=n(239);function E(e){var t=e.GetOutput,n=e.GetExampleUrl,o=e.examples,c=o.values().next().value[0].name,i=Object(a.useRef)(),l=Object(a.useState)(""),p=Object(f.a)(l,2),d=p[0],b=p[1],E=Object(a.useState)(c),j=Object(f.a)(E,2),S=j[0],D=j[1],C=n(S),T=Object(a.useRef)("code");Object(a.useEffect)(function(){T&&(T.current=C.endsWith(".md.tsx")?"markdown":"code")},[C]);var M=Object(y.a)(C),F=Object(f.a)(M,1)[0].data;Object(a.useEffect)(function(){function e(){return(e=Object(u.a)(s.a.mark(function e(){var n,a;return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!F){e.next=6;break}return e.next=3,O(F);case 3:e.t0=e.sent,e.next=7;break;case 6:e.t0="";case 7:return n=e.t0,i.current&&i.current.setValue(n),e.next=11,t(n,T.current);case 11:a=e.sent,b(a);case 13:case"end":return e.stop()}},e)}))).apply(this,arguments)}!function(){e.apply(this,arguments)}()},[F]);var N={minimap:{enabled:!1},scrollbar:{useShadows:!1}};return r.a.createElement("div",{className:k.container},r.a.createElement(x,{examples:o,SetExample:function(e){return D(e)}}),r.a.createElement(h.ControlledEditor,{width:"50%",editorDidMount:function(e,t){i.current=t},language:"typescript",options:N,onChange:w(function(){var e=Object(u.a)(s.a.mark(function e(n){var a,r,o=arguments;return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=o.length>1&&void 0!==o[1]?o[1]:"",e.next=3,t(a,T.current);case 3:r=e.sent,b(r);case 5:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),1e3),loading:r.a.createElement(g.a,{size:v.a.large})}),r.a.createElement(h.ControlledEditor,{width:"50%",language:"typescript",options:Object(m.a)({},N,{readOnly:!0}),value:d,loading:r.a.createElement(g.a,{size:v.a.large})}))}function O(e){return j.apply(this,arguments)}function j(){return(j=Object(u.a)(s.a.mark(function e(t){var a,r,o;return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.e(4).then(n.t.bind(null,586,7));case 2:return a=e.sent,e.next=5,n.e(3).then(n.t.bind(null,587,7));case 5:return r=e.sent,o=a.format(t,{parser:"typescript",plugins:[r]}),e.abrupt("return",o);case 8:case"end":return e.stop()}},e)}))).apply(this,arguments)}h.monaco.init().then(function(e){e.languages.typescript.typescriptDefaults.setDiagnosticsOptions({noSemanticValidation:!0,noSyntaxValidation:!0}),e.languages.registerDocumentFormattingEditProvider("typescript",{provideDocumentFormattingEdits:function(){var e=Object(u.a)(s.a.mark(function e(t,n,a){return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,O(t.getValue());case 2:return e.t0=e.sent,e.t1=t.getFullModelRange(),e.t2={text:e.t0,range:e.t1},e.abrupt("return",[e.t2]);case 6:case"end":return e.stop()}},e)}));return function(t,n,a){return e.apply(this,arguments)}}()})}).catch(function(e){return console.error("An error occurred during initialization of Monaco: ",e)});var k=Object(l.t)({container:{height:"100%",display:"flex"},markdown:{width:"50%",height:"100%",overflow:"auto",paddingLeft:15,paddingRight:15,fontSize:16}}),S=n(240);function D(e,t){return C.apply(this,arguments)}function C(){return(C=Object(u.a)(s.a.mark(function e(t,n){var a,r;return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,"code"!==n){e.next=7;break}return a=new S.Transcriber(t).Transcribe(),e.next=5,O(a);case 5:return r=e.sent,e.abrupt("return",r);case 7:return e.abrupt("return","");case 10:return e.prev=10,e.t0=e.catch(0),e.abrupt("return","".concat(e.t0));case 13:case"end":return e.stop()}},e,null,[[0,10]])}))).apply(this,arguments)}function T(e){return"https://raw.githubusercontent.com/mistlog/files/master/typedraft-snippet/".concat(e)}var M=new Map([["Local Context",[{display:"Function",name:"local-context-function.tsx"},{display:"Class",name:"local-context-class.tsx"}]],["DSL",[{display:"Match",name:"dsl-match.tsx"}]],["Examples",[{display:"Huffman Tree",name:"huffman-tree.tsx"},{display:"Topological Sort",name:"topological-sort.tsx"},{display:"Transcriber",name:"transcriber.tsx"},{display:"Jack VM",name:"vm.tsx"}]]]);var F=Object(l.t)({container:{height:"100vh",display:"flex",flexDirection:"column",overflow:"hidden"},header:{height:"10vh"},editor:{height:"90vh",marginTop:16}}),N=n(582),R=n(585);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var V=n(241);Object(V.a)(),Object(l.u)({selectors:{":global(body), :global(html), :global(#root)":{margin:0,padding:0,height:"100vh",overflow:"auto"}}}),c.a.render(r.a.createElement(R.a,N.a,r.a.createElement(function(){return r.a.createElement("div",{className:F.container},r.a.createElement("div",{className:F.header},r.a.createElement(p,null)),r.a.createElement("div",{className:F.editor},r.a.createElement(E,{examples:M,GetOutput:D,GetExampleUrl:T})))},null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[246,1,2]]]);
//# sourceMappingURL=main.9dbefdc5.chunk.js.map